{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Gestión de dietas y asignación a clientes","description":"Conjunto de operaciones para la gestión de dietas y su asignación a clientes"},{"name":"Gestión de entrenamientos","description":"Conjunto de operaciones para la gestión de entrenamientos"},{"name":"Gestion de entrenadores y sus mensajes","description":"Conjunto de operaciones para la gestión de entrenadores y sus mensajes"},{"name":"Gestion de clientes y mensajes","description":"Conjunto de operaciones para la gestión de clientes y sus mensajes"},{"name":"Gestión de ejercicios y rutinas","description":"Conjunto de operaciones para la gestión de ejercicios y rutinas"},{"name":"Gestion de centros y gerentes","description":"Conjunto de operaciones para la gestión de centros y gerentes"},{"name":"Gestion del calendario de entrenadores","description":"Conjunto de operaciones para la gestión del calendario de los entrenadores"},{"name":"Gestión de información de sesiones de los clientes","description":"Conjunto de operaciones para la gestión de la inforamción de las sesiones de los clientes"},{"name":"Gestión de usuarios","description":"Operaciones para la gestión de usuarios"}],"paths":{"/usuario/{idUsuario}":{"get":{"tags":["Gestión de usuarios"],"description":"Obtiene un usuario concreto","operationId":"getUsuario","parameters":[{"name":"idUsuario","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"El usuario existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}}},"404":{"description":"El usuario no existe"},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de usuarios"],"description":"Actualiza un usuario","operationId":"actualizarUsuario","parameters":[{"name":"idUsuario","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}},"required":true},"responses":{"200":{"description":"El usuario se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}}},"404":{"description":"El usuario no existe"},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de usuarios"],"description":"Elimina el usuario.","operationId":"eliminarUsuario","parameters":[{"name":"idUsuario","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"El usuario se ha elminado"},"404":{"description":"El usuario no existe"},"403":{"description":"Acceso no autorizado"}}}},"/sesion/{idSesion}":{"get":{"tags":["Gestión de información de sesiones de los clientes"],"description":"Obtiene los detalles de la sesión especificada.","operationId":"getSesion","parameters":[{"name":"idSesion","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"401":{"description":"Unauthorized"},"404":{"description":"La sesión no existe","content":{}},"200":{"description":"La sesión existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SesionDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de información de sesiones de los clientes"],"description":"Actualiza una sesión de entrenamiento.","operationId":"actualizarSesion","parameters":[{"name":"idSesion","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SesionDTO"}}},"required":true},"responses":{"401":{"description":"Unauthorized"},"404":{"description":"La sesión no existe","content":{}},"200":{"description":"La sesión se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SesionDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de información de sesiones de los clientes"],"description":"Elimina la sesión de entrenamiento.","operationId":"eliminarSesion","parameters":[{"name":"idSesion","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"401":{"description":"Unauthorized"},"404":{"description":"La sesión no existe","content":{}},"200":{"description":"La sesión se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/rutina/{idRutina}":{"get":{"tags":["Gestión de ejercicios y rutinas"],"description":"Obtiene una rutina concreta. Solo puede hacerlo el entrenador que la ha creado y los clientes que entrena.","operationId":"getRutina","parameters":[{"name":"idRutina","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"La rutina no existe","content":{}},"200":{"description":"La rutina existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RutinaDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de ejercicios y rutinas"],"description":"Actualiza una rutina. Solo puede hacerlo el entrenador que lo ha creado.","operationId":"actualizarRutina","parameters":[{"name":"idRutina","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RutinaDTO"}}},"required":true},"responses":{"404":{"description":"La rutina no existe","content":{}},"200":{"description":"La rutina se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RutinaDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de ejercicios y rutinas"],"description":"Elimina la rutina. Solo puede hacerlo el entrenador que la ha creado.","operationId":"eliminarRutina","parameters":[{"name":"idRutina","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"La rutina no existe","content":{}},"200":{"description":"La rutina se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/plan/{idPlan}":{"get":{"tags":["Gestión de entrenamientos"],"description":"Obtiene un plan concreto. Solo pueden acceder el cliente y el entrenador de la asignación del plan","operationId":"getPlan","parameters":[{"name":"idPlan","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El plan no existe","content":{}},"200":{"description":"El plan existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlanDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de entrenamientos"],"description":"Actualiza un plan. Solo puede hacerlo el entrenador que lo ha creado.","operationId":"actualizarPlan","parameters":[{"name":"idPlan","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanDTO"}}},"required":true},"responses":{"404":{"description":"El plan no existe","content":{}},"200":{"description":"El plan se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlanDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de entrenamientos"],"description":"Elimina el plan. Solo puede hacerlo el entrenador que lo ha creado.","operationId":"eliminarPlan","parameters":[{"name":"idPlan","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El plan no existe","content":{}},"200":{"description":"El plan se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/gerente/{idGerente}":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Obtiene un gerente concreto","operationId":"getGerente","parameters":[{"name":"idGerente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El gerente no existe","content":{}},"200":{"description":"El gerente existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GerenteDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestion de centros y gerentes"],"description":"Actualiza un gerente","operationId":"actualizarGerente","parameters":[{"name":"idGerente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GerenteDTO"}}},"required":true},"responses":{"404":{"description":"El gerente no existe","content":{}},"200":{"description":"El gerente se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GerenteDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de centros y gerentes"],"description":"Elimina el gerente.","operationId":"eliminarGerente","parameters":[{"name":"idGerente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El gerente no existe","content":{}},"200":{"description":"El gerente se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/entrenador/{idEntrenador}":{"get":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Obtiene un cliente concreto","operationId":"getEntrenador","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El entrenador no existe","content":{}},"200":{"description":"El entrenador existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EntrenadorDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Actualiza un entrenador","operationId":"actualizarEntrenador","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntrenadorDTO"}}},"required":true},"responses":{"404":{"description":"El entrenador no existe","content":{}},"200":{"description":"El entrenador se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EntrenadorDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Elimina el entrenador.","operationId":"eliminarEntrenador","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El entrenador no existe","content":{}},"200":{"description":"El entrenador se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/entrena/{idEntrena}":{"get":{"tags":["Gestión de entrenamientos"],"description":"Obtiene los detalles de la asignación de un entrenador a un cliente.","operationId":"getAsignacion","parameters":[{"name":"idEntrena","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"La asignación no existe","content":{}},"200":{"description":"La asignación existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AsignacionEntrenamientoDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de entrenamientos"],"description":"Actualiza la asignación de un entrenador a un cliente, para cambiar la especialidad. Solo puedo hacerlo el gerente.","operationId":"actualizarAsignacion","parameters":[{"name":"idEntrena","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsignacionEntrenamientoDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"La asociación no existe","content":{}},"200":{"description":"La asociación se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AsignacionEntrenamientoDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de entrenamientos"],"description":"Elimina la asignación del entrenador al cliente. Solo puede hacerlo el gerente.","operationId":"eliminarAsignacion","parameters":[{"name":"idEntrena","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"La asignación no existe","content":{}},"200":{"description":"La asignación se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/ejercicio/{idEjercicio}":{"get":{"tags":["Gestión de ejercicios y rutinas"],"description":"Obtiene un ejercicio concreto. Sollo pued ehacerlo el entrenador que lo ha creado y los clientes que entrena.","operationId":"getEjercicio","parameters":[{"name":"idEjercicio","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El ejercicio no existe","content":{}},"200":{"description":"El ejercicio existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EjercicioDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de ejercicios y rutinas"],"description":"Actualiza un ejercicio. Solo puede hacerlo el entrenador que lo ha creado.","operationId":"actualizarEjercicio","parameters":[{"name":"idEjercicio","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EjercicioDTO"}}},"required":true},"responses":{"404":{"description":"El ejercicio no existe","content":{}},"200":{"description":"El ejercicio se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EjercicioDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de ejercicios y rutinas"],"description":"Elimina el ejercicio. Solo puede hacerlo el entrenador que lo ha creado.","operationId":"eliminarEjercicio","parameters":[{"name":"idEjercicio","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El ejercicio no existe","content":{}},"200":{"description":"El ejercicio se ha elminado"},"417":{"description":"El ejercicio aparece en una rutina y no se puede eliminar"},"403":{"description":"Acceso no autorizado"}}}},"/dieta":{"get":{"tags":["Gestión de dietas y asignación a clientes"],"description":"Permite consultar las dietas de un entrenador o la dieta asociada a un cliente, dependiento del parámetro de consulta. Se debe especificar exactamente un parámetro de consulta: entrenador o cliente. Cuando se especifica el entrenador la consula termina con éxito solo si es el entrenador quien accede. Cuando se especifica el cliente, solo puede acceder el cliente o el a quien pertenece la dieta.","operationId":"obtenerDietas","parameters":[{"name":"entrenador","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"cliente","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de dietas de un entrenador o la dieta asociada a un cliente.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DietaDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de dietas y asignación a clientes"],"description":"Permite asociar una dieta a un cliente. Solo lo puede hacer el entrenador que entrena al cliente.","operationId":"asociarDieta","parameters":[{"name":"cliente","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DietaDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Se asocia la dieta al cliente. Si había otra dieta asociada se elimina la relación.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DietaDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de dietas y asignación a clientes"],"description":"Permite crear una dieta a un entrenador. Solo lo puede hacer el entrenador.","operationId":"crearDieta","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DietaNuevaDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"201":{"description":"Se crea la dieta y la devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/DietaDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/dieta/{idDieta}":{"get":{"tags":["Gestión de dietas y asignación a clientes"],"description":"Obtiene una dieta concreta. Solo puede hacerlo el entrenador que la ha creado y los clientes que entrena.","operationId":"getDieta","parameters":[{"name":"idDieta","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"La dieta no existe","content":{}},"200":{"description":"La dieta existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DietaDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestión de dietas y asignación a clientes"],"description":"Actualiza una dieta. Solo puede hacerlo el entrenador que la ha creado.","operationId":"actualizarDieta","parameters":[{"name":"idDieta","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DietaDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"La dieta no existe","content":{}},"200":{"description":"La dieta se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DietaDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestión de dietas y asignación a clientes"],"description":"Elimina la dieta. Solo puede hacerlo el entrenador que la ha creado.","operationId":"eliminarDieta","parameters":[{"name":"idDieta","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"La dieta no existe","content":{}},"200":{"description":"La dieta se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/cliente/{idCliente}":{"get":{"tags":["Gestion de clientes y mensajes"],"description":"Obtiene un cliente concreto","operationId":"getCliente","parameters":[{"name":"idCliente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El cliente no existe","content":{}},"200":{"description":"El cliente existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestion de clientes y mensajes"],"description":"Actualiza un cliente","operationId":"actualizarCliente","parameters":[{"name":"idCliente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}},"required":true},"responses":{"404":{"description":"El cliente no existe","content":{}},"200":{"description":"El cliente se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de clientes y mensajes"],"description":"Elimina el cliente.","operationId":"eliminarCliente","parameters":[{"name":"idCliente","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El cliente no existe","content":{}},"200":{"description":"El cliente se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/centro/{idCentro}":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Obtiene un centro concreto","operationId":"getCentro","parameters":[{"name":"idCentro","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"El centro no existe","content":{}},"200":{"description":"El centro existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CentroDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestion de centros y gerentes"],"description":"Actualiza un centro","operationId":"actualizarCentro","parameters":[{"name":"idCentro","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentroDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"El centro no existe","content":{}},"200":{"description":"El centro se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CentroDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de centros y gerentes"],"description":"Elimina el centro.","operationId":"eliminarCentro","parameters":[{"name":"idCentro","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"El centro no existe","content":{}},"200":{"description":"El centro se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/centro/{idCentro}/gerente":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Permite consultar el gerente de un centro.","operationId":"obtenerCentroGerente","parameters":[{"name":"idCentro","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"El centro no existe"},"200":{"description":"Devuelve el gerente del centro especificado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/IdGerenteDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestion de centros y gerentes"],"description":"Permite añadir una asociación entre un centro y un gerente.","operationId":"asociarCentroGerente","parameters":[{"name":"idCentro","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdGerenteDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Devuelve el centro al que se ha asociado el gerente","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CentroDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de centros y gerentes"],"description":"Permite eliminar una asociación entre un centro y un gerente.","operationId":"eliminarAsociacionCentroGerente","parameters":[{"name":"idCentro","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"gerente","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Devuelve el centro al que se ha asociado el gerente"},"403":{"description":"Acceso no autorizado"}}}},"/calendario/{idEntrenador}/{idElemento}":{"get":{"tags":["Gestion del calendario de entrenadores"],"description":"Obtiene un evento concreto del calendario","operationId":"getEvento","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"idElemento","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"El evento no existe","content":{}},"200":{"description":"El evento existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventoDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"put":{"tags":["Gestion del calendario de entrenadores"],"description":"Actualiza un evento. El entrenador puede hacer cualquier modificación, el cliente solo puede modificar las citas que tengan su identificador (asociadas al usuario.","operationId":"actualizarEvento","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"idElemento","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventoDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"El evento no existe","content":{}},"200":{"description":"El evento se ha actualizado","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventoDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion del calendario de entrenadores"],"description":"Elimina el evento. El entrenador puede eliminar cualquier evento, el cliente solo puede eliminar las citas que tengan su identificador (asociadas al usuario).","operationId":"eliminarEvento","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"idElemento","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"El evento no existe","content":{}},"200":{"description":"El evento se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/usuario":{"get":{"tags":["Gestión de usuarios"],"description":"Obtiene la lista de usuarios del sistema","operationId":"obtenerUsuarios","parameters":[{"name":"email","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Devuelve la lista de usuarios","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UsuarioDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de usuarios"],"description":"Crea un nuevo usuario en el sistema","operationId":"crearUsuario","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioNuevoDTO"}}},"required":true},"responses":{"201":{"description":"El usuario se crea correctamente","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/UsuarioDTO"}}}},"409":{"description":"Hay un usuario con el mismo correo electrónico en el sistema"},"403":{"description":"Acceso no autorizado"}}}},"/sesion":{"get":{"tags":["Gestión de información de sesiones de los clientes"],"description":"Permite consultar las sesiones asociadas a un plan. Solo pueden acceder a ella el entrenador y el cliente relacionados con el plan.","operationId":"obtenerAsignaciones","parameters":[{"name":"plan","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de sesiones asociadas a este plan.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SesionDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de información de sesiones de los clientes"],"description":"Permite crear una nueva sesión a un plan. ","operationId":"crearSesion","parameters":[{"name":"plan","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SesionNuevaDTO"}}},"required":true},"responses":{"401":{"description":"Unauthorized"},"404":{"description":"Not Found"},"201":{"description":"Se crea la sesión asociada al plan.","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SesionDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/rutina":{"get":{"tags":["Gestión de ejercicios y rutinas"],"description":"Permite consultar todas las rutinas a un entrenador. Solo lo puede hacer el entrenador.","operationId":"obtenerRutinas","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de rutinas de un entrenador.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RutinaDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de ejercicios y rutinas"],"description":"Permite crear una rutina nueva a un entrenador. Los ejercicios usados deben existir previamente.","operationId":"crearRutina","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RutinaNuevaDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"Se crea la rutina y la devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/RutinaDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/plan":{"get":{"tags":["Gestión de entrenamientos"],"description":"Permite consultar todos los planes de una asignación entrenador-cliente.","operationId":"obtenerPlanes","parameters":[{"name":"entrena","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de planes.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlanDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de entrenamientos"],"description":"Permite crear un plan nuevo para una asignación entrenador-cliente. ","operationId":"crearPlan","parameters":[{"name":"entrena","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"Se crea el plan y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlanDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/passwordreset":{"post":{"tags":["Gestión de usuarios"],"description":"Resetea la contraseña de un usuario al valor que se indica en el cuerpo si el token de petición es correcto. En caso contrario devuelve un error.","operationId":"passwordReset","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetDTO"}}},"required":true},"responses":{"200":{"description":"Si el token de reseteo es correcto cambia la contraseña.","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"Si el token de reseteo no es correcto.","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"public":[]}]}},"/mensaje/entrenador":{"get":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Permite consultar todos los mensajes de un entrenador.","operationId":"obtenerMensajesCliente","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de mensajes de un entrenador","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MensajeDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Permite crear un mensaje nuevo a un entrenador (para ser enviado). ","operationId":"crearMensaje","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MensajeNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"Se crea el mensaje y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/MensajeDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/mensaje/cliente":{"get":{"tags":["Gestion de clientes y mensajes"],"description":"Permite consultar todos los mensajes de un cliente.","operationId":"obtenerMensajesCliente_1","parameters":[{"name":"cliente","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de mensajes de un cliente","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MensajeDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de clientes y mensajes"],"description":"Permite crear un mensaje nuevo a un cliente (para ser enviado). ","operationId":"crearMensaje_1","parameters":[{"name":"cliente","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MensajeNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"Se crea el mensaje y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/MensajeDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/mensaje/centro":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Permite consultar todos los mensajes de un centro.","operationId":"obtenerMensajesCentro","parameters":[{"name":"centro","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de mensajes de un centro","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MensajeDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de centros y gerentes"],"description":"Permite crear un mensaje nuevo a un gerente del centro (para ser enviado). ","operationId":"crearMensaje_2","parameters":[{"name":"centro","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MensajeNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"Se crea el mensaje y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/MensajeDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/login":{"post":{"tags":["Gestión de usuarios"],"description":"Comprueba las credenciales del usuario y devuelve un JWT si todo fue correcto.","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}},"required":true},"responses":{"200":{"description":"Devuelve un JWT para el usuario si las credenciales son correctas.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JwtDTO"}}}},"401":{"description":"Creedenciales no correctas."}},"security":[{"public":[]}]}},"/gerente":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Obtiene la lista de gerentes del sistema. Solo para administradores.","operationId":"obtenerGerentes","responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de gerentes","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GerenteDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de centros y gerentes"],"description":"Crea un nuevo gerente en el sistema. Tiene que existir un usuario ya creado para este gerente.","operationId":"crearGerente","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GerenteNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"El gerente se crea correctamente","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/GerenteDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/forgottenpassword":{"post":{"tags":["Gestión de usuarios"],"description":"Pide al servicio que cree un enlace para resetear la contraseña de un usuario. El servicio debe enviar un e-mail con el enlace para resetear la contraseña. Si el usuario no existe, la respuesta debe ser la misma que cuando existe, para no dar información acerca de la existencia del usuario en el sistema.","operationId":"forgottenPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgottenPasswordDTO"}}},"required":true},"responses":{"200":{"description":"Si el usuario existe crear un enlace para resetear contraseña y envía notificación. En caso contrario no hace nada.","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"public":[]}]}},"/entrenador":{"get":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Obtiene la lista de entrenadores de un centro. Lo pueden hacer los gerentes de ese centro.","operationId":"obtenerEntrenadores","parameters":[{"name":"centro","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de entrenadores","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntrenadorDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Crea un nuevo entrenador asociado al centro en el sistema. Tiene que existir un usuario ya creado para este entrenador.","operationId":"crearEntrenador","parameters":[{"name":"centro","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntrenadorNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"El entrenador se crea correctamente","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EntrenadorDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/entrena":{"get":{"tags":["Gestión de entrenamientos"],"description":"Permite consultar los clientes que entrena un entrenador o el entrenador que entrena a un cliente. O bien el entrenador o el cliente hay que aportarlos, pero no se pueden aportar los dos.","operationId":"obtenerAsignaciones_1","parameters":[{"name":"entrenador","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"cliente","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de asignaciones de clientes de un entrenador.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AsignacionEntrenamientoDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de entrenamientos"],"description":"Permite asociar un nuevo cliente a un entrenador. ","operationId":"crearAsignacion","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AsignacionEntrenamientoNuevoDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"201":{"description":"Se crea la asociación entre cliente y entrenador.","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AsignacionEntrenamientoDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/ejercicio":{"get":{"tags":["Gestión de ejercicios y rutinas"],"description":"Permite consultar todos los ejercicios a un entrenador. Solo lo puede hacer el entrenador.","operationId":"obtenerEjercicios","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de ejercicios de un entrenador.","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EjercicioDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestión de ejercicios y rutinas"],"description":"Permite crear un ejercicio nuevo a un entrenador. ","operationId":"crearEjercicio","parameters":[{"name":"entrenador","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EjercicioNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"Se crea el ejercicio y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EjercicioDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/cliente":{"get":{"tags":["Gestion de clientes y mensajes"],"description":"Obtiene la lista de clientes de un centro. Lo pueden hacer los gerentes de ese centro.","operationId":"obtenerClientes","parameters":[{"name":"centro","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de clientes","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClienteDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de clientes y mensajes"],"description":"Crea un nuevo cliente asociado al centro en el sistema. Tiene que existir un usuario ya creado para este cliente.","operationId":"crearCliente","parameters":[{"name":"centro","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteNuevoDTO"}}},"required":true},"responses":{"404":{"description":"Not Found"},"201":{"description":"El cliente se crea correctamente","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClienteDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/centro":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Permite consultar todos los centros a un adminitrador, opcionalmente regentados por un gerente. Esta última opción también se permite al usuario asociado al gerente.","operationId":"obtenerCentros","parameters":[{"name":"gerente","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Devuelve la lista de centros","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CentroDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion de centros y gerentes"],"description":"Permite crear un centro nuevo a un administrador. ","operationId":"crearCentro","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CentroNuevoDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"201":{"description":"Se crea el centro y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/CentroDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/calendario/{idEntrenador}":{"get":{"tags":["Gestion del calendario de entrenadores"],"description":"Permite consultar la disponibilidad de un entrenador.","operationId":"obtenerEventosEntrenador","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request"},"404":{"description":"Not Found"},"200":{"description":"Devuelve una lista con la disponibilidad del entrenador y con las franjas ya ocupadas. En las franjas ya ocupadas se incluye el ID del usuario cuando quien lo consulta es el entrenador o el propio usuario que tiene la franja ocupada.","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/EventoDTO"}}}}},"403":{"description":"Acceso no autorizado"}}},"post":{"tags":["Gestion del calendario de entrenadores"],"description":"Permite crear un evento nuevo a un entrenador (para ser añadido a su calendario). Esto lo puede hacer tanto el cliente como el propio entrenador. El entrenador también podrá añadir nuevas franjas de disponibilidad.","operationId":"crearEvento","parameters":[{"name":"idEntrenador","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventoNuevoDTO"}}},"required":true},"responses":{"400":{"description":"Hay algún problema con los parámetros de entrada o hay solapamiento de una cita con otra previa","content":{}},"404":{"description":"Not Found"},"201":{"description":"Se crea el evento y lo devuelve","headers":{"Location":{"description":"URI del nuevo recurso","style":"simple","schema":{"type":"string"}}},"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EventoDTO"}}}},"403":{"description":"Acceso no autorizado"}}}},"/mensaje/entrenador/{idMensaje}":{"get":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Obtiene un mensaje de un entrenador concreto","operationId":"getMensajeEntrenador","parameters":[{"name":"idMensaje","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El mensaje no existe","content":{}},"200":{"description":"El mensaje existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MensajeDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de entrenadores y sus mensajes"],"description":"Elimina el mensaje.","operationId":"eliminarMensaje","parameters":[{"name":"idMensaje","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El mensaje no existe","content":{}},"200":{"description":"El mensaje se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/mensaje/cliente/{idMensaje}":{"get":{"tags":["Gestion de clientes y mensajes"],"description":"Obtiene un mensaje de un cliente concreto","operationId":"getMensajeCliente","parameters":[{"name":"idMensaje","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El mensaje no existe","content":{}},"200":{"description":"El mensaje existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MensajeDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de clientes y mensajes"],"description":"Elimina el mensaje.","operationId":"eliminarMensaje_1","parameters":[{"name":"idMensaje","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El mensaje no existe","content":{}},"200":{"description":"El mensaje se ha elminado"},"403":{"description":"Acceso no autorizado"}}}},"/mensaje/centro/{idMensaje}":{"get":{"tags":["Gestion de centros y gerentes"],"description":"Obtiene un mensaje de centro concreto","operationId":"getMensajeCentro","parameters":[{"name":"idMensaje","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El mensaje no existe","content":{}},"200":{"description":"El mensaje existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MensajeDTO"}}}},"403":{"description":"Acceso no autorizado"}}},"delete":{"tags":["Gestion de centros y gerentes"],"description":"Elimina el mensaje.","operationId":"eliminarMensaje_2","parameters":[{"name":"idMensaje","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"El mensaje no existe","content":{}},"200":{"description":"El mensaje se ha eliminado"},"403":{"description":"Acceso no autorizado"}}}}},"components":{"schemas":{"UsuarioDTO":{"type":"object","properties":{"nombre":{"type":"string"},"apellido1":{"type":"string"},"apellido2":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"administrador":{"type":"boolean"},"id":{"type":"integer","format":"int64"}}},"SesionDTO":{"type":"object","properties":{"idPlan":{"type":"integer","format":"int64"},"inicio":{"type":"string","format":"date-time"},"fin":{"type":"string","format":"date-time"},"trabajoRealizado":{"type":"string"},"multimedia":{"type":"array","items":{"type":"string"}},"descripcion":{"type":"string"},"presencial":{"type":"boolean"},"datosSalud":{"type":"array","items":{"type":"string"}},"id":{"type":"integer","format":"int64"}}},"EjercicioDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"tipo":{"type":"string"},"musculosTrabajados":{"type":"string"},"material":{"type":"string"},"dificultad":{"type":"string"},"multimedia":{"type":"array","items":{"type":"string"}},"id":{"type":"integer","format":"int64"}}},"FragmentoRutinaDTO":{"type":"object","properties":{"series":{"type":"integer","format":"int32"},"repeticiones":{"type":"integer","format":"int32"},"duracionMinutos":{"type":"integer","format":"int32"},"ejercicio":{"$ref":"#/components/schemas/EjercicioDTO"}}},"RutinaDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"ejercicios":{"type":"array","items":{"$ref":"#/components/schemas/FragmentoRutinaDTO"}},"id":{"type":"integer","format":"int64"}}},"PlanDTO":{"type":"object","properties":{"fechaInicio":{"type":"string","format":"date-time"},"fechaFin":{"type":"string","format":"date-time"},"reglaRecurrencia":{"type":"string"},"idRutina":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"}}},"GerenteDTO":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"empresa":{"type":"string"},"id":{"type":"integer","format":"int64"}}},"EntrenadorDTO":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"telefono":{"type":"string"},"direccion":{"type":"string"},"dni":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date-time"},"fechaAlta":{"type":"string","format":"date-time"},"fechaBaja":{"type":"string","format":"date-time"},"especialidad":{"type":"string"},"titulacion":{"type":"string"},"experiencia":{"type":"string"},"observaciones":{"type":"string"},"id":{"type":"integer","format":"int64"}}},"AsignacionEntrenamientoDTO":{"type":"object","properties":{"idEntrenador":{"type":"integer","format":"int64"},"idCliente":{"type":"integer","format":"int64"},"especialidad":{"type":"string"},"id":{"type":"integer","format":"int64"},"planes":{"type":"array","items":{"$ref":"#/components/schemas/PlanDTO"}}}},"DietaDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"objetivo":{"type":"string"},"duracionDias":{"type":"integer","format":"int32"},"alimentos":{"type":"array","items":{"type":"string"}},"recomendaciones":{"type":"string"},"id":{"type":"integer","format":"int64"}}},"ClienteDTO":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"telefono":{"type":"string"},"direccion":{"type":"string"},"dni":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date-time"},"sexo":{"type":"string","enum":["HOMBRE","MUJER","OTRO"]},"id":{"type":"integer","format":"int64"}}},"CentroDTO":{"type":"object","properties":{"nombre":{"type":"string"},"direccion":{"type":"string"},"idCentro":{"type":"integer","format":"int64"}}},"IdGerenteDTO":{"type":"object","properties":{"idGerente":{"type":"integer","format":"int64"}}},"EventoDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"lugar":{"type":"string"},"duracionMinutos":{"type":"integer","format":"int64"},"inicio":{"type":"string","format":"date-time"},"reglaRecurrencia":{"type":"string"},"idCliente":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["DISPONIBILIDAD","CITA"]},"id":{"type":"integer","format":"int64"}}},"UsuarioNuevoDTO":{"type":"object","properties":{"nombre":{"type":"string"},"apellido1":{"type":"string"},"apellido2":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"administrador":{"type":"boolean"}}},"SesionNuevaDTO":{"type":"object","properties":{"idPlan":{"type":"integer","format":"int64"},"inicio":{"type":"string","format":"date-time"},"fin":{"type":"string","format":"date-time"},"trabajoRealizado":{"type":"string"},"multimedia":{"type":"array","items":{"type":"string"}},"descripcion":{"type":"string"},"presencial":{"type":"boolean"},"datosSalud":{"type":"array","items":{"type":"string"}}}},"RutinaNuevaDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"ejercicios":{"type":"array","items":{"$ref":"#/components/schemas/FragmentoRutinaDTO"}}}},"PlanNuevoDTO":{"type":"object","properties":{"fechaInicio":{"type":"string","format":"date-time"},"fechaFin":{"type":"string","format":"date-time"},"reglaRecurrencia":{"type":"string"},"idRutina":{"type":"integer","format":"int64"}}},"PasswordResetDTO":{"type":"object","properties":{"token":{"type":"string"},"password":{"type":"string"}}},"DestinatarioDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["CENTRO","ENTRENADOR","CLIENTE"]}}},"MensajeNuevoDTO":{"type":"object","properties":{"asunto":{"type":"string"},"destinatarios":{"type":"array","items":{"$ref":"#/components/schemas/DestinatarioDTO"}},"copia":{"type":"array","items":{"$ref":"#/components/schemas/DestinatarioDTO"}},"copiaOculta":{"type":"array","items":{"$ref":"#/components/schemas/DestinatarioDTO"}},"remitente":{"$ref":"#/components/schemas/DestinatarioDTO"},"contenido":{"type":"string"}}},"MensajeDTO":{"type":"object","properties":{"asunto":{"type":"string"},"destinatarios":{"type":"array","items":{"$ref":"#/components/schemas/DestinatarioDTO"}},"copia":{"type":"array","items":{"$ref":"#/components/schemas/DestinatarioDTO"}},"copiaOculta":{"type":"array","items":{"$ref":"#/components/schemas/DestinatarioDTO"}},"remitente":{"$ref":"#/components/schemas/DestinatarioDTO"},"contenido":{"type":"string"},"idMensaje":{"type":"integer","format":"int64"}}},"LoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"JwtDTO":{"type":"object","properties":{"jwt":{"type":"string"}}},"GerenteNuevoDTO":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"empresa":{"type":"string"}}},"ForgottenPasswordDTO":{"type":"object","properties":{"email":{"type":"string"}}},"EntrenadorNuevoDTO":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"telefono":{"type":"string"},"direccion":{"type":"string"},"dni":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date-time"},"fechaAlta":{"type":"string","format":"date-time"},"fechaBaja":{"type":"string","format":"date-time"},"especialidad":{"type":"string"},"titulacion":{"type":"string"},"experiencia":{"type":"string"},"observaciones":{"type":"string"}}},"AsignacionEntrenamientoNuevoDTO":{"type":"object","properties":{"idEntrenador":{"type":"integer","format":"int64"},"idCliente":{"type":"integer","format":"int64"},"especialidad":{"type":"string"}}},"EjercicioNuevoDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"tipo":{"type":"string"},"musculosTrabajados":{"type":"string"},"material":{"type":"string"},"dificultad":{"type":"string"},"multimedia":{"type":"array","items":{"type":"string"}}}},"DietaNuevaDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"objetivo":{"type":"string"},"duracionDias":{"type":"integer","format":"int32"},"alimentos":{"type":"array","items":{"type":"string"}},"recomendaciones":{"type":"string"}}},"ClienteNuevoDTO":{"type":"object","properties":{"idUsuario":{"type":"integer","format":"int64"},"telefono":{"type":"string"},"direccion":{"type":"string"},"dni":{"type":"string"},"fechaNacimiento":{"type":"string","format":"date-time"},"sexo":{"type":"string","enum":["HOMBRE","MUJER","OTRO"]}}},"CentroNuevoDTO":{"type":"object","properties":{"nombre":{"type":"string"},"direccion":{"type":"string"}}},"EventoNuevoDTO":{"type":"object","properties":{"nombre":{"type":"string"},"descripcion":{"type":"string"},"observaciones":{"type":"string"},"lugar":{"type":"string"},"duracionMinutos":{"type":"integer","format":"int64"},"inicio":{"type":"string","format":"date-time"},"reglaRecurrencia":{"type":"string"},"idCliente":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["DISPONIBILIDAD","CITA"]}}}}}}